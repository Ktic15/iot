
{% extends "layout.html" %}
{% block body %}
  <div class="row">
    <div class="col-md-4 offset-md-4">
      <div class="card card-body">
        <form action="/oa/add_entry" method="POST">
          <div class="form-group">
            <label for="sno">sno: </label>
            <input type="number" name="sno" value="{{operator.sno}}" class="form-control" readonly>
          </div>
          <div class="form-group">
            <label for="proline">Product_line: </label>
            <input type="text" name="proline" value="{{operator.pline}}" class="form-control" readonly>
          </div>
          <div class="form-group">
            <label for="cdate">Date: </label>
            <input type="date" name="cdate" value="{{operator.date_}}" class="form-control" readonly>
          </div>
          <div class="form-group">
            <label for="shift">Shift: </label>
            <input type="text" name="shift" value="{{operator.shift}}" class="form-control" readonly>
          </div>
          <div class="form-group">
            <label for="mno">Machine_No: </label>
            <input type="text" name="mno" value="{{operator.machine_no}}" class="form-control" readonly>
          </div>
          <div class="form-group">
            <label>Operator id:</label>
            <select id='opsel' name="oid" class="form-control" required>
              <option value="" >Select </option>
              {% for item in Eitems %}
              <option value="{{ item.employee_code }}" >{{ item.employee_code }} / {{ item.employee_name}} </option>
              {% endfor %}
            </select>
          </div>
          <div class="form-group">
            <label for="pno">Part No: </label>
            <input type="text" name="pno" value="{{operator.part_no}}" class="form-control" readonly>
          </div>
          <div class="form-group">
            <label for="svname">Shift Supervisor Name: </label>
            <input type="text" name="svname" value="{{operator.shift_supervisor_name}},{{operator.shift_supervisor_id}}" class="form-control" readonly>
          </div>
          <div class="form-group">
            <label for="ctime">Time: </label>
            <input type="time" name="ctime" value="{{operator.time_}}" class="form-control" readonly>
          </div>
          <div class="form-group">
            <label for="opc">operator change: </label>
            <input type="text" name="opc" value="Y" class="form-control" readonly>
          </div>
          <div class="form-group">
            <label for="reason">Reason: </label>
            <input type="text" name="reason" value="" class="form-control" required>
          </div>
          <div class="form-group">
            <button type="submit" class="btn btn-primary btn-block" onclick="update()">
              Update
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
<script>
document.getElementById("opsel").value = "{{operator.operator_id}}";
function update(){
    if(document.getElementById("opsel").value=="{{operator.operator_id}}"){
      event.preventDefault();
      alert("Please change the operator and try update");
    }
}
</script>
{% endblock %}
